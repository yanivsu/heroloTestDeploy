(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{143:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),c=a.n(r),o=a(18),s=a(51),u=a(88),d=a(39),l="https://dataservice.accuweather.com/forecasts/v1/daily/5day/",h="https://dataservice.accuweather.com/locations/v1/cities/autocomplete?",p="https://dataservice.accuweather.com/locations/v1/cities/geoposition/search?",m="&q=",j="https://vortex.accuweather.com/adc2010/images/slate/icons/",f="apikey=hjZWULH4XAfWLKGQE3Fw7BiXU2vYFqOF",b="&metric=true",y="?",O=".svg",g=",",x="WEATHER_FETCH_DATA",v="AUTOCOMPLETE_CITIES_LIST",C="ADD_FAVORITE_CITY",M="CHANGE_C_OR_F",w="\xb0C",F="\xb0F",N="\u2764\ufe0f Add to Favorites",I={isLoading:!0,cityName:"",cityCode:"",tempFunction:!0,weatherForecast:[{tempatureMin:"",tempatureMax:"",date:"",iconNumber:0,iconPharse:"",cityCode:""}]},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case x:e.isLoading=!1,e.cityCode=t.payload.cityCode,e.cityName=t.payload.cityName;var a=[];return t.payload.data.DailyForecasts.forEach((function(n){var i=new Date(1e3*n.EpochDate),r=new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(i),c={tempatureMin:Math.floor(parseInt(n.Temperature.Minimum.Value)),tempatureMax:Math.floor(parseInt(n.Temperature.Maximum.Value)),date:n.Date,foreCastDay:r,iconNumber:n.Day.Icon,iconPharse:n.Day.IconPhrase,cityCode:t.payload.cityCode};e.tempFunction||(c.tempatureMin=1.8*c.tempatureMin+32,c.tempatureMax=1.8*c.tempatureMax+32),a.push(c)})),e.weatherForecast=a,e;case M:return t.payload?t.payload?(e.tempFunction=!0,e.weatherForecast.forEach((function(t,a){e.weatherForecast[a].tempatureMin=Math.floor(parseInt((t.tempatureMin-32)*(5/9))),e.weatherForecast[a].tempatureMax=Math.floor(parseInt((t.tempatureMax-32)*(5/9)))})),e):e:(e.tempFunction=!1,e.weatherForecast.forEach((function(t,a){e.weatherForecast[a].tempatureMin=Math.floor(parseInt(1.8*t.tempatureMin+32)),e.weatherForecast[a].tempatureMax=Math.floor(parseInt(1.8*t.tempatureMax+32))})),e);default:return e}}))},S={isLoading:!0,citiesOptions:[]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case v:if(Array.isArray(t.payload)){var a=[];t.payload.forEach((function(e){var t={countryName:e.Country.LocalizedName,cityName:e.LocalizedName,code:e.Key};a.push(t)})),e.citiesOptions=a,e.isLoading=!1}else e.citiesOptions.length=0;return e;case M:e.citiesOptions.length;default:return e}}))},T={isLoading:!0,faivorteCities:[],tempFunction:!0},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;return Object(d.a)(e,(function(e){switch(t.type){case C:if(e.isLoading=!1,-1===e.faivorteCities.findIndex((function(e){if(e.cityCode===t.payload.data.cityCode)return!0}))){var a={cityName:t.payload.cityName,cityCode:t.payload.data.cityCode,tempatureMin:t.payload.data.tempatureMin,tempatureMax:t.payload.data.tempatureMax,date:t.payload.data.date,dayName:t.payload.data.foreCastDay,iconNumber:t.payload.data.iconNumber,iconPharse:t.payload.data.iconPharse};e.faivorteCities.push(a)}return e;case M:if(!t.payload)return e.tempFunction=!1,e.faivorteCities.forEach((function(t,a){e.faivorteCities[a].tempatureMin=Math.floor(parseInt(1.8*t.tempatureMin+32)),e.faivorteCities[a].tempatureMax=Math.floor(parseInt(1.8*t.tempatureMax+32))})),e;if(t.payload)return e.tempFunction=!0,e.faivorteCities.forEach((function(t,a){e.faivorteCities[a].tempatureMin=Math.floor(parseInt((t.tempatureMin-32)*(5/9))),e.faivorteCities[a].tempatureMax=Math.floor(parseInt((t.tempatureMax-32)*(5/9)))})),e;default:return e}}))},L=Object(s.b)({weatherReducer:E,searchCityReducer:D,faivorteCitiesReducer:k});var W=a(27),A=a(66),R=a(15),z=a(194),P=a(184),_=a(98),B=a(187),U=a(199),H=a(198),G=a(97),q=a.n(G),K=a(96),V=a.n(K),J=a(67),X=a.n(J),Y=a(89),Q=a(90),Z=a.n(Q);function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(Y.a)(X.a.mark((function e(t){var a,n=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.prev=1,e.next=4,Z.a.get(t,a);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):e.t0.request?console.log(e.t0.request):console.log("Error",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function te(e,t){return function(a){return $(l+e+y+f+b).then((function(n){var i=n.data;a({type:x,payload:{data:i,cityCode:e,cityName:t}})})).catch((function(e){return console.log("loadData Error no data",e.message)}))}}var ae=a(54),ne=a(43),ie=a(188),re=a(190),ce=a(192),oe=a(191),se=a(193),ue=a(205),de=a(5),le=Object(P.a)((function(e){return{appBar:{borderRadius:"20px"},title:{flexGrow:1},menuButton:{marginRight:e.spacing(0)},button:{fontSize:"1 rem",fontFamily:"Titillium Web",fontWeight:"bold",marginRight:e.spacing(2)},toggle:{margin:e.spacing(1)}}})),he=Object(_.a)({palette:{primary:{light:"#30CE88",main:"#30CE88",dark:"#205374",contrastText:"#205374"},secondary:{main:"#205374"},menuItem:{width:"100%",height:"100%"}}});function pe(e){var t=le(),a=Object(o.b)(),i=Object(n.useState)({temp:!0}),r=Object(W.a)(i,2),c=r[0],s=r[1],u=Object(R.f)();return Object(de.jsx)("div",{className:t.root,children:Object(de.jsx)(B.a,{theme:he,children:Object(de.jsx)(ie.a,{position:"static",children:Object(de.jsxs)(re.a,{children:[Object(de.jsx)(oe.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"}),Object(de.jsx)(ce.a,{variant:"h6",className:t.title,children:"Weather"}),Object(de.jsx)(se.a,{className:t.button,color:"inherit",onClick:function(){u.push("/heroloTestDeploy")},children:"Home \ud83c\udfe1"}),Object(de.jsx)(se.a,{className:t.button,color:"inherit",onClick:function(){u.push("/favorites")},children:"Favorites \ud83d\udc96"}),Object(de.jsx)(z.a,{children:Object(de.jsx)(ce.a,{children:"\xb0F"})}),Object(de.jsx)(z.a,{item:!0,children:Object(de.jsx)(ue.a,{checked:c.temp,onChange:function(e){var t;s(Object(ne.a)(Object(ne.a)({},c),{},Object(ae.a)({},e.target.name,e.target.checked))),a((t=!c.temp,{type:M,payload:t}))},name:"temp"})}),Object(de.jsx)(z.a,{item:!0,children:Object(de.jsx)(ce.a,{children:"\xb0C"})})]})})})})}var me=a(202),je=a(204),fe=Object(P.a)((function(e){return{root:{flexGrow:1},title:{fontFamily:"Titillium Web",fontWeight:"bold"},weatherStatus:{margin:e.spacing(1)}}}));function be(e){var t=fe(),a=Object(n.useState)(!1),i=Object(W.a)(a,2),r=i[0],c=i[1],s=Object(n.useState)(""),u=Object(W.a)(s,2),d=u[0],l=u[1],h=Object(o.c)((function(e){return e.faivorteCitiesReducer})),p=Object(o.b)(),m=function(){c(!1)};return Object(de.jsxs)(z.a,{container:!0,direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(de.jsxs)(z.a,{container:!0,direction:"row",xs:12,alignItems:"center",justifyContent:"space-between",children:[Object(de.jsxs)(ce.a,{className:t.title,variant:"h3",children:[Object(de.jsx)("img",{src:j+e.data.iconNumber+O,style:{width:"2.5em",height:"2.5em"},alt:"Weather Icon"}),e.cityName," "+e.data.tempatureMax,e.unitMode?w:F]}),Object(de.jsx)(se.a,{onClick:function(){var t=h.faivorteCities.findIndex((function(t){if(t.cityCode===e.data.cityCode)return!0}));0===h.faivorteCities.length||-1===t?(p({type:C,payload:e}),l("City Added to favorite List."),c(!r)):(l("City already in the favorite list."),c(!r))},children:Object(de.jsx)(ce.a,{className:t.title,variant:"h5",children:N})})]}),Object(de.jsx)(z.a,{className:t.weatherStatus,container:!0,alignItems:"center",justifyContent:"center",children:Object(de.jsx)(ce.a,{variant:"h4",children:e.data.iconPharse})}),Object(de.jsx)(je.a,{open:r,autoHideDuration:6e3,onClose:m,children:Object(de.jsx)(me.a,{variant:"filled",severity:"info",onClose:m,children:d})})]})}var ye=a(195),Oe=a(196),ge=Object(P.a)((function(e){return{root:{margin:e.spacing(3)}}}));function xe(e){var t=ge();return Object(de.jsx)(ye.a,{className:t.root,children:Object(de.jsx)(Oe.a,{children:Object(de.jsxs)(z.a,{container:!0,direction:"column",alignItems:"center",children:[Object(de.jsx)(ce.a,{variant:"h5",component:"h2",children:void 0!==e.data.foreCastDay?e.data.foreCastDay:e.data.cityName}),Object(de.jsx)(ce.a,{variant:"body2",component:"p",children:Object(de.jsx)("img",{src:j+e.data.iconNumber+O,style:{width:"4.5em",height:"4.5em",margin:"2px"},alt:"Weather Icon"})}),Object(de.jsxs)(ce.a,{variant:"h5",component:"h2",children:[e.data.tempatureMin,e.unitMode?w:F," - ",e.data.tempatureMax,e.unitMode?w:F]})]})})})}var ve=a(200),Ce=a(201);function Me(e){var t=Object(n.useState)(""),a=Object(W.a)(t,2),i=a[0],r=a[1],c=Object(n.useState)(""),s=Object(W.a)(c,2),u=s[0],d=s[1],l=Object(o.c)((function(e){return e.searchCityReducer})),p=""!==i&&0===l.citiesOptions.length,j=Object(o.b)();return Object(n.useEffect)((function(){var e;j((e=i,function(t){return $(h+f+m+e).then((function(e){var a=e.data;t({type:v,payload:a})})).catch((function(e){return console.log("loadData Error no data",e.message)}))}))}),[i]),Object(n.useEffect)((function(){j(te(u.code,u.cityName))}),[u]),Object(de.jsx)(Ce.a,{getOptionSelected:function(e,t){e.cityName===t.cityName&&d(e)},loading:p,options:l.citiesOptions,getOptionLabel:function(e){return void 0!==e?"".concat(e.cityName,", ").concat(e.countryName):void 0},style:{width:300},renderInput:function(e){return Object(de.jsx)(ve.a,Object(ne.a)(Object(ne.a)({placeholder:"Search City...",onChange:function(e){var t=e.target.value;t=t.charAt(0).toUpperCase()+t.slice(1),r(t)}},e),{},{variant:"outlined"}))}})}var we=Object(P.a)((function(e){return{title:{fontFamily:"Titillium Web",fontWeight:"bold"}}}));function Fe(e){var t=we(),a=Object(o.c)((function(e){return e.faivorteCitiesReducer}));return Object(de.jsxs)(z.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(de.jsx)(ce.a,{variant:"h3",className:t.title,children:"Favorite Cities"}),Object(de.jsx)(z.a,{direction:"row",container:!0,alignItems:"center",justifyContent:"center",children:a.faivorteCities.length>0?a.faivorteCities.map((function(t){return Object(de.jsx)(xe,{data:t,unitMode:e.unitMode})})):null})]})}var Ne=Object(P.a)((function(e){return{root:{flexGrow:1},header:{padding:e.spacing(2),fontWeight:"Bold",textAlign:"center",color:"whitesmoke",background:"#3f51b5"},searchCity:{padding:e.spacing(2)},mainWeather:{padding:e.spacing(10)},darkIcon:{margin:e.spacing(2,2,2,2)}}}));var Ie=function(){var e=Ne(),t=Object(n.useState)(!1),a=Object(W.a)(t,2),r=a[0],c=a[1],s=Object(o.b)(),u=Object(o.c)((function(e){return e.weatherReducer})),d=i.a.useMemo((function(){return Object(_.a)({palette:{type:r?"dark":"light"}})}),[r]);d.typography.h4={fontSize:"0rem","@media (min-width:600px)":{fontSize:"5rem"}},d.typography.h5={fontSize:"1.0rem",fontFamily:"Segoe UI","@media (min-width:600px)":{fontSize:"1.8rem"}},d.typography.h3={fontSize:"1.0rem","@media (min-width:600px)":{fontSize:"1.8rem"}},d.typography.h2={fontSize:"2rem",fontFamily:"Segoe UI","@media (min-width:600px)":{fontSize:"5rem"}},Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t,a;s((t=e.coords.latitude,a=e.coords.longitude,function(e){return $(p+f+m+t+g+a).then((function(t){var a=t.data,n=a.Key,i=a.LocalizedName;e(te(n,i))})).catch((function(e){return console.log("loadData Error no data",e.message)}))}))}),(function(e){console.error(e)}),{timeout:8e3})}),[]);var l=function(){c(!r)};return Object(de.jsx)(B.a,{theme:d,children:Object(de.jsx)(H.a,{children:Object(de.jsxs)(A.a,{exact:!0,path:"/heroloTestDeploy",children:[Object(de.jsx)(pe,{}),r?Object(de.jsx)(V.a,{className:e.darkIcon,onClick:l}):Object(de.jsx)(q.a,{className:e.darkIcon,onClick:l}),Object(de.jsxs)(R.c,{children:[u.isLoading?Object(de.jsx)(U.a,{}):Object(de.jsxs)(R.a,{exact:!0,path:"/heroloTestDeploy",children:[Object(de.jsx)(z.a,{container:!0,alignItems:"center",justifyContent:"center",className:e.searchCity,children:Object(de.jsx)(Me,{})}),Object(de.jsxs)(z.a,{container:!0,className:e.mainWeather,children:[Object(de.jsx)(be,{data:u.weatherForecast[0],cityName:u.cityName,unitMode:u.tempFunction}),Object(de.jsx)(z.a,{container:!0,justifyContent:"space-around",alignItems:"center",children:u.weatherForecast.map((function(e){return Object(de.jsx)(xe,{data:e,unitMode:u.tempFunction})}))})]})]}),Object(de.jsx)(R.a,{exact:!0,path:"/favorites",children:Object(de.jsx)(Fe,{unitMode:u.tempFunction})})]})]})})})},Ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,206)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),i(e),r(e),c(e)}))},Se=Object(s.c)(L,Object(s.a)(u.a));c.a.render(Object(de.jsx)(o.a,{store:Se,children:Object(de.jsx)(i.a.StrictMode,{children:Object(de.jsx)(Ie,{})})}),document.getElementById("root")),Ee()}},[[143,1,2]]]);
//# sourceMappingURL=main.e4e88da6.chunk.js.map